{% extends "auctions/layout.html" %}
{% load static %}
{% block title %}
Auction Success
{% endblock %}

{% block body %}

<div class="container">
  {% if listing.status == 'Closed' %}
  <div class="alert alert-success" role="alert">
    The auction for <strong>{{ listing.name }}</strong> is closed.
  </div>
  {% if listing.winner == user %}
  <div class="alert alert-info" role="alert">
    Congratulations! You won the auction!
  </div>
  <div class="winner-info">
    <h5>Winner Information</h5>
    <p>Winner: {{ listing.winner.username }}</p>
    <p>Winning Bid: ${{ listing.highest_bid }}</p>
  </div>
  {% else %}
  <div class="alert alert-warning" role="alert">
    The auction was won by <strong>{{ listing.winner.username }}</strong> with a bid of <strong>${{ listing.highest_bid }}</strong>.
  </div>
  {% endif %}
  {% else %}
  <div class="alert alert-danger" role="alert">
    The auction is still open. You are not allowed to access this page.
  </div>
  {% endif %}
</div>

{% endblock %}